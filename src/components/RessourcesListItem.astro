---
import type { Ressource } from "@content/schemas/ressources.schema";
import { Image } from "astro:assets";

interface Props {
  ressource: Ressource;
}
const { ressource } = Astro.props;
---

<article class="group flex flex-col">
  <a
    href={ressource.link || "#"}
    target="_blank"
    rel="noopener noreferrer"
    class="flex flex-col"
  >
    {
      ressource.thumbnail && (
        <div class="aspect-4/3 overflow-hidden">
          <Image
            src={ressource.thumbnail.smallUrl}
            alt={ressource.thumbnail.altText}
            width={500}
            height={500}
            class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-120"
          />
        </div>
      )
    }
    <div class="mt-3 flex items-center gap-2">
      {
        ressource.category && (
          <span class="rounded bg-gray-100 px-2 py-1 text-xs text-gray-600">
            {ressource.category}
          </span>
        )
      }
      {
        ressource.language && (
          <span class="rounded bg-blue-100 px-2 py-1 text-xs text-blue-600">
            {ressource.language}
          </span>
        )
      }
    </div>
    <h3 class="h4 mt-2">{ressource.title}</h3>
    {ressource.description && <p class="mt-1 text-gray-600">{ressource.description}</p>}
    {
      ressource.tags.length > 0 && (
        <div class="mt-2 flex flex-wrap gap-1">
          {ressource.tags.map((tag) => (
            <span class="rounded bg-gray-200 px-2 py-0.5 text-xs text-gray-700">
              {tag}
            </span>
          ))}
        </div>
      )
    }
  </a>
</article>
